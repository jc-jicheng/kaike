{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/views/Home.vue?b2cc","webpack:///./src/views/Home.vue?15f8","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?538d","webpack:///./src/views/Home.vue?9c58"],"names":["fails","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","this","render","_vm","_h","$createElement","_c","_self","_v","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","target","options","o","selected","map","val","_value","multiple","attrs","staticClass","_m","_l","item","key","id","params","itemId","_s","_f","price","tip","style","left","top","_e","staticRenderFns","data","items","isShow","components","Item","filters","computed","created","getItems","methods","component"],"mappings":"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","file":"js/chunk-c897d8d6.aa2311be.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=f1ca94dc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=f1ca94dc&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"商品列表\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sort),expression:\"sort\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.sort=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"desc\"}},[_vm._v(\"从高到低\")]),_c('option',{attrs:{\"value\":\"asc\"}},[_vm._v(\"从低到高\")])]),_c('ul',{staticClass:\"item-list\"},[_vm._m(0),_vm._l((_vm.items),function(item){return _c('li',{key:item.id},[_c('span',[_c('router-link',{attrs:{\"to\":{name: 'item', params: {itemId: item.id}}}},[_vm._v(_vm._s(item.name))])],1),_c('span',[_vm._v(_vm._s(_vm._f(\"RMB\")(item.price)))]),_vm._m(1,true)])})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tip.isShow),expression:\"tip.isShow\"}],staticClass:\"tip\",style:({left: _vm.tip.left + 'px', top: _vm.tip.top + 'px'})},[(_vm.tip.itemId > 0)?_c('Item',{attrs:{\"itemId\":_vm.tip.itemId}}):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"head\"},[_c('span',[_vm._v(\"名称\")]),_c('span',[_vm._v(\"价格\")]),_c('span',[_vm._v(\"操作\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('button',[_vm._v(\"添加到购物车\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2>商品列表</h2>\r\n    <select v-model=\"sort\">\r\n        <option value=\"desc\">从高到低</option>\r\n        <option value=\"asc\">从低到高</option>\r\n    </select>\r\n    <ul class=\"item-list\">\r\n      <li class=\"head\">\r\n        <span>名称</span>\r\n        <span>价格</span>\r\n        <span>操作</span>\r\n      </li>\r\n      <li v-for=\"item of items\" :key=\"item.id\">\r\n        <span>\r\n          <!-- <router-link @mouseover.native=\"mouseover(item.id, $event)\" @mouseout.native=\"mouseout(item.id, $event)\" :to=\"{name: 'item', params: {itemId: item.id}}\">{{item.name}}</router-link> -->\r\n\r\n          <router-link :to=\"{name: 'item', params: {itemId: item.id}}\">{{item.name}}</router-link>\r\n        </span>\r\n        <span>{{item.price|RMB}}</span>\r\n        <span>\r\n          <button>添加到购物车</button>\r\n        </span>\r\n      </li>\r\n    </ul>\r\n\r\n    <div class=\"tip\" :style=\"{left: tip.left + 'px', top: tip.top + 'px'}\" v-show=\"tip.isShow\">\r\n      <Item v-if=\"tip.itemId > 0\" :itemId=\"tip.itemId\"></Item>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\nimport Item from '@/views/Item'\r\nimport {RMB} from '@/filters/filters'\r\n\r\nexport default {\r\n  name: \"home\",\r\n  data() {\r\n    return {\r\n      items: [],\r\n      tip: {\r\n        itemId: 0,\r\n        isShow: false,\r\n        left: 0,\r\n        top: 0\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    Item\r\n  },\r\n  filters: {\r\n      RMB\r\n  },\r\n  computed: {\r\n      sort: {\r\n          get() {\r\n            //   console.log(this.$route.query);\r\n              return this.$route.query.sort || 'desc';\r\n          },\r\n          set(newVal) {\r\n            //   console.log(newVal);\r\n            this.$router.push({name: 'home', query: {sort: newVal}});\r\n          }\r\n      }\r\n  },\r\n  created() {\r\n    this.getItems();\r\n  },\r\n//   watch: {\r\n//       $route(to, from) {\r\n//           // console.log('$route变了');\r\n//           this.getItems();\r\n//       }\r\n//   },\r\n  methods: {\r\n      getItems() {\r\n        axios({\r\n            url: \"/api/items\",\r\n            params: {\r\n                sort: this.sort\r\n            }\r\n        }).then(({ data }) => {\r\n            this.items = data;\r\n        });\r\n      },\r\n\r\n      mouseover(itemId, {target}) {\r\n        let {left, top, width} = target.getBoundingClientRect();\r\n        // console.log(pos);\r\n\r\n        this.tip.isShow = true;\r\n        this.tip.left = left + width + 10;\r\n        this.tip.top = top;\r\n        this.tip.itemId = itemId;\r\n      },\r\n      mouseout() {\r\n        this.tip.isShow = false;\r\n      }\r\n  },\r\n\r\n\r\n  // beforeRouteEnter(to, from, next) {\r\n  //     console.log('beforeRouteEnter');\r\n  //     next(vm => {\r\n  //         console.log(vm);\r\n  //     });\r\n  // },\r\n  // beforeRouteUpdate(to, from, next) {\r\n  //     console.log('beforeRouteUpdate', this);\r\n  //     this.getItems();\r\n  //     next();\r\n  // },\r\n  // beforeRouteLeave(to, from, next) {\r\n  //     console.log('beforeRouteLeave', this);\r\n  //     next();\r\n  // }\r\n};\r\n</script>\r\n<style scoped>\r\nul {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nli {\r\n    list-style: none;\r\n}\r\n\r\n.item-list li {\r\n    padding: 10px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    border-bottom: 1px dotted #333;\r\n}\r\n.item-list li.head {\r\n    font-weight: bold;\r\n}\r\n.item-list li span {\r\n    min-width: 200px;\r\n}\r\n.tip {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  border: 1px solid #000;\r\n  background: #fff;\r\n  padding: 10px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=f1ca94dc&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=f1ca94dc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1ca94dc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}